<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.diekautz.ideplugin</id>
    <name>OpenEye IDEA</name>
    <vendor>Malte Stellmacher</vendor>

    <depends>com.intellij.modules.platform</depends>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow factoryClass="com.github.diekautz.ideplugin.toolWindow.MyToolWindowFactory" id="OpenEyeToolWindow"/>

        <applicationConfigurable
                parentId="root"
                instance="com.github.diekautz.ideplugin.config.OpenEyeSettingsConfigurable"
                id="plugin.openeye"
                displayName="OpenEye Settings"/>
        <applicationService serviceImplementation="com.github.diekautz.ideplugin.config.OpenEyeSettingsState"/>
        <applicationConfigurable parentId="plugin.openeye"
                                 instance="com.github.diekautz.ideplugin.config.ParticipantConfigurable"
                                 id="plugin.openeye.participant"
                                 displayName="Participant Configuration"/>
        <applicationService serviceImplementation="com.github.diekautz.ideplugin.config.ParticipantState"/>
    </extensions>

    <actions>
        <group id="com.github.diekautz.ideplugin.actions.OpenEyeGroup"
               text="OpenEye"
               popup="true"
               icon="AllIcons.Toolbar.AddSlot">
            <add-to-group group-id="MainMenu" anchor="last"/>

            <action id="com.github.diekautz.ideplugin.actions.SetupNewParticipantAction"
                    class="com.github.diekautz.ideplugin.actions.SetupNewParticipantAction" text="Setup New Participant"
                    description="Clears all data and opens questionaire for new participant"/>

            <separator/>

            <action id="com.github.diekautz.ideplugin.actions.ClearHighlightersAction"
                    class="com.github.diekautz.ideplugin.actions.ClearHighlightersAction" text="Clear Hightlights"
                    description="Clears all previously highlighted elements">
                <keyboard-shortcut keymap="$default" first-keystroke="shift ctrl alt C"/>
            </action>
            <action id="com.github.diekautz.ideplugin.actions.StartRecordingAction"
                    class="com.github.diekautz.ideplugin.actions.StartRecordingAction" text="Start Tobii Pro Recording"
                    description="Starts or continous a Tobii Pro recording via LSL">
                <keyboard-shortcut keymap="$default" first-keystroke="shift ctrl alt PLUS"/>
            </action>
            <action id="com.github.diekautz.ideplugin.actions.StopRecordingAction"
                    class="com.github.diekautz.ideplugin.actions.StopRecordingAction" text="Stop OpenEye Recording"
                    description="Stops an ongoing recording">
                <keyboard-shortcut keymap="$default" first-keystroke="shift ctrl alt MINUS"/>
            </action>
            <action id="com.github.diekautz.ideplugin.actions.SaveAllRunDataAction"
                    class="com.github.diekautz.ideplugin.actions.SaveAllRunDataAction" text="Save OpenEye Run"
                    description="Saves element gazes and raw recorded data">
                <keyboard-shortcut keymap="$default" first-keystroke="shift ctrl alt ENTER"/>
            </action>

            <separator text="Debug"/>

            <action id="com.github.diekautz.ideplugin.actions.CalculateScreenBrightnessAction"
                    class="com.github.diekautz.ideplugin.actions.CalculateScreenBrightnessAction"
                    text="Screen Brightness">
                <add-to-group group-id="ToolsMenu"/>
            </action>
            <action id="com.github.diekautz.ideplugin.actions.ScanLSLStreamsAction"
                    class="com.github.diekautz.ideplugin.actions.ScanLSLStreamsAction" text="Resolve LSL Streams"
                    description="Refreshes resolved lab streaming layer stream infos"/>
        </group>
    </actions>
</idea-plugin>
